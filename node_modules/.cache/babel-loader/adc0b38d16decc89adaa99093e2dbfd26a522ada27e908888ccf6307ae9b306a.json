{"ast":null,"code":"import axios from\"axios\";import moment from\"moment\";// BigHistoryRepository.ts\nclass BigHistoryRepository{// eslint-disable-next-line @typescript-eslint/no-useless-constructor\nconstructor(){}async root(request,onSuccess,onError,element){return axios.get(\"./api/0?expandChildren=true\").then(response=>onSuccess&&onSuccess(request,response.data,element)).catch(error=>onError&&onError(request,error,element));}async search(request,onSuccess,onError,element){return axios.post(\"./api/search\",request).then(response=>onSuccess&&onSuccess(request,response.data,element)).catch(error=>onError&&onError(request,error,element));}async download(request,onSuccess,onError,element){return axios({url:'/api/download',method:'GET',responseType:'blob'}).then(response=>{const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"big-history-\".concat(moment().format(\"YYYYMMDD\"),\".json\"));document.body.appendChild(link);link.click();link.parentNode.removeChild(link);onSuccess&&onSuccess(request,response.data,element);}).catch(error=>onError&&onError(request,error,element));}async update(request,onSuccess,onError,element){return axios.put(\"./api/\"+request.id,request).then(response=>onSuccess&&onSuccess(request,response.data,element)).catch(error=>onError&&onError(request,error,element));}}// eslint-disable-next-line import/no-anonymous-default-export\nexport default new BigHistoryRepository();","map":{"version":3,"names":["axios","moment","BigHistoryRepository","constructor","root","request","onSuccess","onError","element","get","then","response","data","catch","error","search","post","download","url","method","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","concat","format","body","appendChild","click","parentNode","removeChild","update","put","id"],"sources":["C:/src/eclipse-workspace/big-history-frontend/src/repository/BigHistoryRepository.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport moment from \"moment\";\r\n\r\n// BigHistoryRepository.ts\r\nclass BigHistoryRepository {\r\n\t// eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n\tconstructor() { }\r\n\r\n\tasync root(request?: any, onSuccess?: any, onError?: any, element?: any) {\r\n\t\treturn axios.get(\"./api/0?expandChildren=true\")\r\n\t\t\t.then(response => onSuccess && onSuccess(request, response.data, element))\r\n\t\t\t.catch(error => onError && onError(request, error, element));\r\n\t}\r\n\tasync search(request: any, onSuccess?: any, onError?: any, element?: any) {\r\n\t\treturn axios.post(\"./api/search\", request)\r\n\t\t\t.then(response => onSuccess && onSuccess(request, response.data, element))\r\n\t\t\t.catch(error => onError && onError(request, error, element));\r\n\t}\r\n\tasync download(request: any, onSuccess?: any, onError?: any, element?: any) {\r\n\t\treturn axios({\r\n\t\t\turl: '/api/download',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tresponseType: 'blob',\r\n\t\t}).then(response => {\r\n\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]));\r\n\t\t\tconst link = document.createElement('a');\r\n\t\t\tlink.href = url;\r\n\t\t\tlink.setAttribute('download', `big-history-${moment().format(\"YYYYMMDD\")}.json`);\r\n\t\t\tdocument.body.appendChild(link);\r\n\t\t\tlink.click();\r\n\t\t\tlink.parentNode!.removeChild(link);\r\n\t\t\tonSuccess && onSuccess(request, response.data, element);\r\n\t\t})\r\n\t\t.catch(error => onError && onError(request, error, element));\r\n\t}\r\n\tasync update(request: any, onSuccess?: any, onError?: any, element?: any) {\r\n\t\treturn axios.put(\"./api/\" + request.id, request)\r\n\t\t\t.then(response => onSuccess && onSuccess(request, response.data, element))\r\n\t\t\t.catch(error => onError && onError(request, error, element));\r\n\t}\r\n}\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default new BigHistoryRepository();\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAE3B;AACA,KAAM,CAAAC,oBAAqB,CAC1B;AACAC,WAAWA,CAAA,CAAG,CAAE,CAEhB,KAAM,CAAAC,IAAIA,CAACC,OAAa,CAAEC,SAAe,CAAEC,OAAa,CAAEC,OAAa,CAAE,CACxE,MAAO,CAAAR,KAAK,CAACS,GAAG,CAAC,6BAA6B,CAAC,CAC7CC,IAAI,CAACC,QAAQ,EAAIL,SAAS,EAAIA,SAAS,CAACD,OAAO,CAAEM,QAAQ,CAACC,IAAI,CAAEJ,OAAO,CAAC,CAAC,CACzEK,KAAK,CAACC,KAAK,EAAIP,OAAO,EAAIA,OAAO,CAACF,OAAO,CAAES,KAAK,CAAEN,OAAO,CAAC,CAAC,CAC9D,CACA,KAAM,CAAAO,MAAMA,CAACV,OAAY,CAAEC,SAAe,CAAEC,OAAa,CAAEC,OAAa,CAAE,CACzE,MAAO,CAAAR,KAAK,CAACgB,IAAI,CAAC,cAAc,CAAEX,OAAO,CAAC,CACxCK,IAAI,CAACC,QAAQ,EAAIL,SAAS,EAAIA,SAAS,CAACD,OAAO,CAAEM,QAAQ,CAACC,IAAI,CAAEJ,OAAO,CAAC,CAAC,CACzEK,KAAK,CAACC,KAAK,EAAIP,OAAO,EAAIA,OAAO,CAACF,OAAO,CAAES,KAAK,CAAEN,OAAO,CAAC,CAAC,CAC9D,CACA,KAAM,CAAAS,QAAQA,CAACZ,OAAY,CAAEC,SAAe,CAAEC,OAAa,CAAEC,OAAa,CAAE,CAC3E,MAAO,CAAAR,KAAK,CAAC,CACZkB,GAAG,CAAE,eAAe,CACpBC,MAAM,CAAE,KAAK,CACbC,YAAY,CAAE,MACf,CAAC,CAAC,CAACV,IAAI,CAACC,QAAQ,EAAI,CACnB,KAAM,CAAAO,GAAG,CAAGG,MAAM,CAACC,GAAG,CAACC,eAAe,CAAC,GAAI,CAAAC,IAAI,CAAC,CAACb,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjE,KAAM,CAAAa,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,IAAI,CAAGV,GAAG,CACfO,IAAI,CAACI,YAAY,CAAC,UAAU,gBAAAC,MAAA,CAAiB7B,MAAM,CAAC,CAAC,CAAC8B,MAAM,CAAC,UAAU,CAAC,SAAO,CAAC,CAChFL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,IAAI,CAAC,CAC/BA,IAAI,CAACS,KAAK,CAAC,CAAC,CACZT,IAAI,CAACU,UAAU,CAAEC,WAAW,CAACX,IAAI,CAAC,CAClCnB,SAAS,EAAIA,SAAS,CAACD,OAAO,CAAEM,QAAQ,CAACC,IAAI,CAAEJ,OAAO,CAAC,CACxD,CAAC,CAAC,CACDK,KAAK,CAACC,KAAK,EAAIP,OAAO,EAAIA,OAAO,CAACF,OAAO,CAAES,KAAK,CAAEN,OAAO,CAAC,CAAC,CAC7D,CACA,KAAM,CAAA6B,MAAMA,CAAChC,OAAY,CAAEC,SAAe,CAAEC,OAAa,CAAEC,OAAa,CAAE,CACzE,MAAO,CAAAR,KAAK,CAACsC,GAAG,CAAC,QAAQ,CAAGjC,OAAO,CAACkC,EAAE,CAAElC,OAAO,CAAC,CAC9CK,IAAI,CAACC,QAAQ,EAAIL,SAAS,EAAIA,SAAS,CAACD,OAAO,CAAEM,QAAQ,CAACC,IAAI,CAAEJ,OAAO,CAAC,CAAC,CACzEK,KAAK,CAACC,KAAK,EAAIP,OAAO,EAAIA,OAAO,CAACF,OAAO,CAAES,KAAK,CAAEN,OAAO,CAAC,CAAC,CAC9D,CACD,CACA;AACA,cAAe,IAAI,CAAAN,oBAAoB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}